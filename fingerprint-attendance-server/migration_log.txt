[dotenv@17.3.1] injecting env (15) from .env -- tip: â‰¡Æ’Â¢Ã¡âˆ©â••Ã…  run anywhere with `dotenvx run -- yourcommand`
[90m[4mquery:[24m[39m [94mSELECT[0m [95mversion[0m[37m([0m[37m)[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [95mcurrent_schema[0m[37m([0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mEXTENSION[0m [94mIF[0m [94mNOT[0m [94mEXISTS[0m [37m"uuid-ossp"[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [37m"information_schema"[0m[37m.[0m[37m"tables"[0m [94mWHERE[0m [37m"table_schema"[0m [37m=[0m [37m'public'[0m [94mAND[0m [37m"table_name"[0m [37m=[0m [37m'migrations'[0m
[90m[4mquery:[24m[39m [94mSELECT[0m [37m*[0m [94mFROM[0m [37m"migrations"[0m [37m"migrations"[0m [94mORDER BY[0m [37m"id"[0m [94mDESC[0m
[4m0 migrations are already loaded in the database.[24m
[4m5 migrations were found in the source code.[24m
[4m5 migrations are new migrations must be executed.[24m
[90m[4mquery:[24m[39m [37mSTART[0m [37mTRANSACTION[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mEXTENSION[0m [94mIF[0m [94mNOT[0m [94mEXISTS[0m [37m"uuid-ossp"[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"roles"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"name"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m50[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"description"[0m [94mtext[0m[37m,[0m [37m"permissions"[0m [37mjsonb[0m [94mNOT NULL[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"UQ_648e3f5447f725579d7d4ffdfb7"[0m [94mUNIQUE[0m [37m([0m[37m"name"[0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_c1433d71a4838793a49dcad46ab"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"users"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"username"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"email"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m200[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"password"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m255[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"full_name"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m200[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"role_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"is_active"[0m [37mboolean[0m [94mNOT NULL[0m [94mDEFAULT[0m [94mtrue[0m[37m,[0m [37m"last_login"[0m [94mTIMESTAMP[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"UQ_fe0bb3f6520ee0469504521e710"[0m [94mUNIQUE[0m [37m([0m[37m"username"[0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"UQ_97672ac88f789774dd47f7c8be3"[0m [94mUNIQUE[0m [37m([0m[37m"email"[0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_a3ffb1c0c8416b9fc6f907b7433"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'online'[0m[37m,[0m [37m'offline'[0m[37m,[0m [37m'syncing'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"devices"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"name"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"serial_number"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"ip_address"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m15[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"port"[0m [94minteger[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'80'[0m[37m,[0m [37m"location"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m200[0m[37m)[0m[37m,[0m [37m"status"[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'offline'[0m[37m,[0m [37m"last_sync_time"[0m [94mTIMESTAMP[0m[37m,[0m [37m"comm_key"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m50[0m[37m)[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'0'[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"UQ_cc9e89897e336172fd06367735d"[0m [94mUNIQUE[0m [37m([0m[37m"serial_number"[0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_b1514758245c12daf43486dd1f0"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'pull_logs'[0m[37m,[0m [37m'push_employees'[0m[37m,[0m [37m'push_templates'[0m[37m,[0m [37m'sync_time'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_status_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'success'[0m[37m,[0m [37m'failed'[0m[37m,[0m [37m'partial'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"sync_history"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"device_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"sync_type"[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m [94mNOT NULL[0m[37m,[0m [37m"status"[0m [37m"public"[0m[37m.[0m[37m"sync_history_status_enum"[0m [94mNOT NULL[0m[37m,[0m [37m"records_count"[0m [94minteger[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'0'[0m[37m,[0m [37m"error_message"[0m [94mtext[0m[37m,[0m [37m"timestamp"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_e929aeba0c2244394dab3a7514c"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"employees_status_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'aktif'[0m[37m,[0m [37m'nonaktif'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"employees"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"nik"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m50[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"nama"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m200[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"departemen"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m[37m,[0m [37m"jabatan"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m[37m,[0m [37m"status"[0m [37m"public"[0m[37m.[0m[37m"employees_status_enum"[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'aktif'[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"UQ_489786f7733ad24dbb649035d77"[0m [94mUNIQUE[0m [37m([0m[37m"nik"[0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_b9535a98350d5b26e7eb0c26af4"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"fingerprint_templates"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"employee_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"finger_index"[0m [94minteger[0m [94mNOT NULL[0m[37m,[0m [37m"template_data"[0m [94mtext[0m [94mNOT NULL[0m[37m,[0m [37m"version"[0m [94minteger[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'1'[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_4fc586f02e776951aaedbb1565b"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"attendance_logs"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"employee_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"device_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"timestamp"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m[37m,[0m [37m"verify_type"[0m [94minteger[0m [94mNOT NULL[0m[37m,[0m [37m"in_out_mode"[0m [94minteger[0m [94mNOT NULL[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_e78c28cf950bd06d614ae09f26b"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE INDEX[0m [37m"IDX_8d4abc2f192290351e38ab5466"[0m [94mON[0m [37m"attendance_logs"[0m [37m([0m[37m"device_id"[0m[37m,[0m [37m"timestamp"[0m[37m)[0m 
[90m[4mquery:[24m[39m [94mCREATE INDEX[0m [37m"IDX_aca25a6ce12ee50956cfaa4460"[0m [94mON[0m [37m"attendance_logs"[0m [37m([0m[37m"employee_id"[0m[37m,[0m [37m"timestamp"[0m[37m)[0m 
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"users"[0m [94mADD CONSTRAINT[0m [37m"FK_a2cecd1a3531c0b041e29ba46e1"[0m [94mFOREIGN KEY[0m [37m([0m[37m"role_id"[0m[37m)[0m [94mREFERENCES[0m [37m"roles"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"sync_history"[0m [94mADD CONSTRAINT[0m [37m"FK_e277a2a66240ae3d3d0fdd07a7d"[0m [94mFOREIGN KEY[0m [37m([0m[37m"device_id"[0m[37m)[0m [94mREFERENCES[0m [37m"devices"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"fingerprint_templates"[0m [94mADD CONSTRAINT[0m [37m"FK_2a948768e2698d259308ce2bb01"[0m [94mFOREIGN KEY[0m [37m([0m[37m"employee_id"[0m[37m)[0m [94mREFERENCES[0m [37m"employees"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"attendance_logs"[0m [94mADD CONSTRAINT[0m [37m"FK_c4ca4ff3d403535898ba7ae6ba3"[0m [94mFOREIGN KEY[0m [37m([0m[37m"employee_id"[0m[37m)[0m [94mREFERENCES[0m [37m"employees"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"attendance_logs"[0m [94mADD CONSTRAINT[0m [37m"FK_058526643ec7189b132892280c8"[0m [94mFOREIGN KEY[0m [37m([0m[37m"device_id"[0m[37m)[0m [94mREFERENCES[0m [37m"devices"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mINSERT INTO[0m [37m"migrations"[0m[37m([0m[37m"timestamp"[0m[37m,[0m [37m"name"[0m[37m)[0m [94mVALUES[0m [37m([0m[37m$[0m[32m1[0m[37m,[0m [37m$[0m[32m2[0m[37m)[0m [90m-- PARAMETERS: [1771079020006,"InitialSchema1771079020006"][0m
[4mMigration InitialSchema1771079020006 has been executed successfully.[24m
[90m[4mquery:[24m[39m [94mALTER[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m [37mRENAME[0m [94mTO[0m [37m"devices_status_enum_old"[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'online'[0m[37m,[0m [37m'offline'[0m[37m,[0m [37m'syncing'[0m[37m,[0m [37m'error'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"devices"[0m [94mALTER COLUMN[0m [37m"status"[0m [94mDROP DEFAULT[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"devices"[0m [94mALTER COLUMN[0m [37m"status"[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m [37mUSING[0m [37m"status"[0m[37m:[0m[37m:[0m[37m"text"[0m[37m:[0m[37m:[0m[37m"public"[0m[37m.[0m[37m"devices_status_enum"[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"devices"[0m [94mALTER COLUMN[0m [37m"status"[0m [94mSET[0m [94mDEFAULT[0m [37m'offline'[0m
[90m[4mquery:[24m[39m [94mDROP[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"devices_status_enum_old"[0m
[90m[4mquery:[24m[39m [94mALTER[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m [37mRENAME[0m [94mTO[0m [37m"sync_history_sync_type_enum_old"[0m
[90m[4mquery:[24m[39m [94mCREATE[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m [94mAS[0m [95mENUM[0m[37m([0m[37m'pull_logs'[0m[37m,[0m [37m'push_employees'[0m[37m,[0m [37m'push_templates'[0m[37m,[0m [37m'sync_time'[0m[37m,[0m [37m'full'[0m[37m)[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"sync_history"[0m [94mALTER COLUMN[0m [37m"sync_type"[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m [37mUSING[0m [37m"sync_type"[0m[37m:[0m[37m:[0m[37m"text"[0m[37m:[0m[37m:[0m[37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum"[0m
[90m[4mquery:[24m[39m [94mDROP[0m [37mTYPE[0m [37m"public"[0m[37m.[0m[37m"sync_history_sync_type_enum_old"[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"fingerprint_templates"[0m [94mADD CONSTRAINT[0m [37m"UQ_08069992080778d518339846c81"[0m [94mUNIQUE[0m [37m([0m[37m"employee_id"[0m[37m,[0m [37m"finger_index"[0m[37m)[0m
[90m[4mquery:[24m[39m [94mINSERT INTO[0m [37m"migrations"[0m[37m([0m[37m"timestamp"[0m[37m,[0m [37m"name"[0m[37m)[0m [94mVALUES[0m [37m([0m[37m$[0m[32m1[0m[37m,[0m [37m$[0m[32m2[0m[37m)[0m [90m-- PARAMETERS: [1771089217310,"AddFullToSyncTypeEnum1771089217310"][0m
[4mMigration AddFullToSyncTypeEnum1771089217310 has been executed successfully.[24m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"employee_shifts"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"employee_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"shift_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_mulai"[0m [37mdate[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_selesai"[0m [37mdate[0m[37m,[0m [37m"is_active"[0m [37mboolean[0m [94mNOT NULL[0m [94mDEFAULT[0m [94mtrue[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_eb34f4c63fe25596ca37bd6e097"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mCREATE INDEX[0m [37m"IDX_ca00b8b4c22f00f7c6f7b9c0d4"[0m [94mON[0m [37m"employee_shifts"[0m [37m([0m[37m"employee_id"[0m[37m,[0m [37m"shift_id"[0m[37m)[0m 
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"shifts"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"nama"[0m [37mcharacter[0m [95mvarying[0m[37m([0m[32m100[0m[37m)[0m [94mNOT NULL[0m[37m,[0m [37m"jam_masuk"[0m [37mTIME[0m [94mNOT NULL[0m[37m,[0m [37m"jam_pulang"[0m [37mTIME[0m [94mNOT NULL[0m[37m,[0m [37m"toleransi_terlambat"[0m [94minteger[0m [94mNOT NULL[0m [94mDEFAULT[0m [37m'0'[0m[37m,[0m [37m"hari_kerja"[0m [94mtext[0m [94mNOT NULL[0m[37m,[0m [37m"is_active"[0m [37mboolean[0m [94mNOT NULL[0m [94mDEFAULT[0m [94mtrue[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_84d692e367e4d6cdf045828768c"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"employee_shifts"[0m [94mADD CONSTRAINT[0m [37m"FK_6724eec1f7473e66ce69e7d0bc0"[0m [94mFOREIGN KEY[0m [37m([0m[37m"employee_id"[0m[37m)[0m [94mREFERENCES[0m [37m"employees"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mALTER TABLE[0m [37m"employee_shifts"[0m [94mADD CONSTRAINT[0m [37m"FK_9b4cf056bf73f4f2cc13c55cd27"[0m [94mFOREIGN KEY[0m [37m([0m[37m"shift_id"[0m[37m)[0m [94mREFERENCES[0m [37m"shifts"[0m[37m([0m[37m"id"[0m[37m)[0m [94mON[0m [94mDELETE[0m [37mNO[0m [37mACTION[0m [94mON[0m [94mUPDATE[0m [37mNO[0m [37mACTION[0m
[90m[4mquery:[24m[39m [94mINSERT INTO[0m [37m"migrations"[0m[37m([0m[37m"timestamp"[0m[37m,[0m [37m"name"[0m[37m)[0m [94mVALUES[0m [37m([0m[37m$[0m[32m1[0m[37m,[0m [37m$[0m[32m2[0m[37m)[0m [90m-- PARAMETERS: [1771108532303,"AddShiftTables1771108532303"][0m
[4mMigration AddShiftTables1771108532303 has been executed successfully.[24m
[90m[4mquery:[24m[39m [94mCREATE TABLE[0m [37m"employee_shifts"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"employee_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"shift_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_mulai"[0m [37mdate[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_selesai"[0m [37mdate[0m[37m,[0m [37m"is_active"[0m [37mboolean[0m [94mNOT NULL[0m [94mDEFAULT[0m [94mtrue[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_eb34f4c63fe25596ca37bd6e097"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[4m[31mquery failed:[39m[24m [94mCREATE TABLE[0m [37m"employee_shifts"[0m [37m([0m[37m"id"[0m [37muuid[0m [94mNOT NULL[0m [94mDEFAULT[0m [95muuid_generate_v4[0m[37m([0m[37m)[0m[37m,[0m [37m"employee_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"shift_id"[0m [37muuid[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_mulai"[0m [37mdate[0m [94mNOT NULL[0m[37m,[0m [37m"tanggal_selesai"[0m [37mdate[0m[37m,[0m [37m"is_active"[0m [37mboolean[0m [94mNOT NULL[0m [94mDEFAULT[0m [94mtrue[0m[37m,[0m [37m"created_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [37m"updated_at"[0m [94mTIMESTAMP[0m [94mNOT NULL[0m [94mDEFAULT[0m [95mnow[0m[37m([0m[37m)[0m[37m,[0m [94mCONSTRAINT[0m [37m"PK_eb34f4c63fe25596ca37bd6e097"[0m [94mPRIMARY KEY[0m [37m([0m[37m"id"[0m[37m)[0m[37m)[0m
[4m[31merror:[39m[24m error: relation "employee_shifts" already exists
[4mMigration "AddAuditLogTable1771110189452" failed, error: relation "employee_shifts" already exists[24m
[90m[4mquery:[24m[39m [37mROLLBACK[0m
[30m[41mError during migration run:[49m[39m
QueryFailedError: relation "employee_shifts" already exists
    at PostgresQueryRunner.query (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\typeorm\src\driver\postgres\PostgresQueryRunner.ts:325:19)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async AddAuditLogTable1771110189452.up (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\src\database\migrations\1771110189452-AddAuditLogTable.ts:7:5)
    at async MigrationExecutor.executePendingMigrations (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\migration\MigrationExecutor.ts:336:17)
    at async DataSource.runMigrations (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\data-source\DataSource.ts:404:13)
    at async Object.handler (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\commands\MigrationRunCommand.ts:76:13) {
  query: 'CREATE TABLE "employee_shifts" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "employee_id" uuid NOT NULL, "shift_id" uuid NOT NULL, "tanggal_mulai" date NOT NULL, "tanggal_selesai" date, "is_active" boolean NOT NULL DEFAULT true, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_eb34f4c63fe25596ca37bd6e097" PRIMARY KEY ("id"))',
  parameters: undefined,
  driverError: error: relation "employee_shifts" already exists
      at C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\pg\lib\client.js:624:17
      at processTicksAndRejections (node:internal/process/task_queues:95:5)
      at async PostgresQueryRunner.query (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\typeorm\src\driver\postgres\PostgresQueryRunner.ts:254:25)
      at async AddAuditLogTable1771110189452.up (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\src\database\migrations\1771110189452-AddAuditLogTable.ts:7:5)
      at async MigrationExecutor.executePendingMigrations (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\migration\MigrationExecutor.ts:336:17)
      at async DataSource.runMigrations (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\data-source\DataSource.ts:404:13)
      at async Object.handler (C:\project-it\fingerprint-solution-server\fingerprint-attendance-server\node_modules\src\commands\MigrationRunCommand.ts:76:13) {
    length: 109,
    severity: 'ERROR',
    code: '42P07',
    detail: undefined,
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: undefined,
    table: undefined,
    column: undefined,
    dataType: undefined,
    constraint: undefined,
    file: 'heap.c',
    line: '1161',
    routine: 'heap_create_with_catalog'
  },
  length: 109,
  severity: 'ERROR',
  code: '42P07',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'heap.c',
  line: '1161',
  routine: 'heap_create_with_catalog'
}
